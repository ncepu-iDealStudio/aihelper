{"version":3,"file":"history-viewer-1c5365c9.js","sources":["../../src/views/conversation/history-viewer.vue"],"sourcesContent":["<template>\r\n    <HistoryContent :messages=\"messages\" :fullscreen=\"false\" :show-tips=\"false\" :append-messages=\"[]\" :loading=\"loading\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport HistoryContent from './components/HistoryContent.vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { getConvMessageListFromId } from \"@/utils/conversation\";\r\nimport { useConversationStore } from \"@/store\";\r\nimport { ref, computed } from 'vue';\r\n\r\nconst conversationStore = useConversationStore();\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst conversationId = route.params.conversation_id as string;\r\n\r\nconst loading = ref(true);\r\n\r\nconversationStore.fetchConversationHistory(conversationId).then(() => {\r\n    // console.log(conversationStore.conversationDetailMap);\r\n}).catch((err: any) => {\r\n    console.log(err);\r\n    router.push({ name: '404' }).then();\r\n}).finally(() => {\r\n    loading.value = false;\r\n});\r\n\r\nconst messages = computed(() => {\r\n    return getConvMessageListFromId(conversationId);\r\n})\r\n\r\n</script>"],"names":["conversationStore","useConversationStore","route","useRoute","router","useRouter","conversationId","loading","ref","err","messages","computed","getConvMessageListFromId"],"mappings":"0UAWA,MAAAA,EAAAC,IAEAC,EAAAC,IACAC,EAAAC,IACAC,EAAAJ,EAAA,OAAA,gBAEAK,EAAAC,EAAA,EAAA,EAEAR,EAAA,yBAAAM,CAAA,EAAA,KAAA,IAAA,CAAsE,CAAA,EAAA,MAAAG,GAAA,CAGlE,QAAA,IAAAA,CAAA,EACAL,EAAA,KAAA,CAAA,KAAA,KAAA,CAAA,EAAA,MAAkC,CAAA,EAAA,QAAA,IAAA,CAElCG,EAAA,MAAA,EAAgB,CAAA,EAGpB,MAAAG,EAAAC,EAAA,IACIC,EAAAN,CAAA,CAA8C"}